
<!DOCTYPE html>
<html lang="english">

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />     <meta name="robots" content="" />     <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro|Source+Sans+Pro:300,400,400i,700" rel="stylesheet">     <link rel="stylesheet" type="text/css" href="https://jackmckew.dev/theme/stylesheet/style.min.css"> 
    <link rel="stylesheet" type="text/css" href="https://jackmckew.dev/theme/pygments/github.min.css">
    <link rel="stylesheet" type="text/css" href="https://jackmckew.dev/theme/font-awesome/css/fontawesome.css">
    <link rel="stylesheet" type="text/css" href="https://jackmckew.dev/theme/font-awesome/css/brands.css">
    <link rel="stylesheet" type="text/css" href="https://jackmckew.dev/theme/font-awesome/css/solid.css">
    <link rel="stylesheet" type="text/css" href="https://jackmckew.dev/theme/font-awesome.css">     <script src="https://jackmckew.dev/theme/tipuesearch/jquery.min.js"></script>
    <script src="https://jackmckew.dev/theme/tipuesearch/tipuesearch.min.js"></script>
    <script src="https://jackmckew.dev/theme/tipuesearch/tipuesearch.js"></script>
    <script src="https://jackmckew.dev/theme/tipuesearch/tipuesearch_set.js"></script>
    <link rel="stylesheet" href="https://jackmckew.dev/theme/tipuesearch/tipuesearch.css" />
    <script src="https://jackmckew.dev/tipuesearch_content.js"></script>
    <link href="https://jackmckew.dev/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Jack McKew's Blog Atom">     <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon"> <!-- Google Analytics -->
<script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-131173168-2', 'auto');
  ga('send', 'pageview');
</script>
<!-- End Google Analytics --><meta name="author" content="Jack McKew" />
<meta name="description" content="README is typically the front page of a project, and should contain relevant information for current users &amp; prospective users. As to make sure documentation across a project is consistent as well, imagine if we could include this README that is the front page of our project, both on the repository …" />
<meta name="keywords" content="python">


<meta property="og:site_name" content="Jack McKew's Blog"/>
<meta property="og:title" content="Make a README &amp; Documentation with Jupyter Notebooks"/>
<meta property="og:description" content="README is typically the front page of a project, and should contain relevant information for current users &amp; prospective users. As to make sure documentation across a project is consistent as well, imagine if we could include this README that is the front page of our project, both on the repository …"/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content="https://jackmckew.dev/make-a-readme-documentation-with-jupyter-notebooks.html"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2020-06-05 00:00:00+10:00"/>
<meta property="article:modified_time" content=""/>
<meta property="article:author" content="https://jackmckew.dev/author/jack-mckew.html">
<meta property="article:section" content="Python"/>
<meta property="article:tag" content="python"/>
<meta property="og:image" content="/jm-photo.jpg">

    <title>Jack McKew's Blog &ndash; Make a README &amp; Documentation with Jupyter Notebooks</title>

    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client="
     crossorigin="anonymous"></script>
</head>

<body>
    <aside>
        <div>
            <a href="https://jackmckew.dev">
        <img src="/jm-photo.jpg" alt="Jack McKew's Blog" title="Jack McKew's Blog">
      </a>
            <h1><a href="https://jackmckew.dev">Jack McKew's Blog</a></h1>

            <p>Engineer | Software Developer | Data Scientist</p>            <p>Number of Posts: 110</p>
            <p>Number of Words: 81,726</p>
            <p>Number of Lines of Code 5,763</p>
            <form class="navbar-search" action="/search.html" role="search">
                <input type="text" name="q" id="tipue_search_input" placeholder="Search..">
            </form>
            <style>
                .bmc-button img {
                    height: 34px !important;
                    width: 35px !important;
                    margin-bottom: 1px !important;
                    box-shadow: none !important;
                    border: none !important;
                    vertical-align: middle !important;
                }
                
                .bmc-button {
                    margin-top: 15px !important;
                    margin-bottom: 20px !important;
                    padding: 7px 15px 7px 10px !important;
                    line-height: 35px !important;
                    height: 51px !important;
                    text-decoration: none !important;
                    display: inline-flex !important;
                    color: #ffffff !important;
                    /* background-color: #FF813F !important; */
                    border-radius: 5px !important;
                    border: 1px solid transparent !important;
                    padding: 7px 15px 7px 10px !important;
                    font-size: 22px !important;
                    letter-spacing: 0.6px !important;
                    box-shadow: 0px 1px 2px rgba(190, 190, 190, 0.5) !important;
                    -webkit-box-shadow: 0px 1px 2px 2px rgba(190, 190, 190, 0.5) !important;
                    font-family: 'Cookie', cursive !important;
                    -webkit-box-sizing: border-box !important;
                    box-sizing: border-box !important;
                }
                
                .bmc-button:hover,
                .bmc-button:active,
                .bmc-button:focus {
                    -webkit-box-shadow: 0px 1px 2px 2px rgba(190, 190, 190, 0.5) !important;
                    text-decoration: none !important;
                    box-shadow: 0px 1px 2px 2px rgba(190, 190, 190, 0.5) !important;
                    opacity: 0.85 !important;
                    color: #ffffff !important;
                }
            </style>
            <link href="https://fonts.googleapis.com/css?family=Cookie" rel="stylesheet">
            <!-- <a class="bmc-button btn" target="_blank" href="https://www.buymeacoffee.com/jackmckew"><img src="https://jackmckew.dev/theme/img/pizza.png" alt="🍕"><span style="margin-left:5px;font-size:28px !important;">Buy me a Pizza</span></a> -->
            <nav>
                <ul class="list">
                    <li><a target="https://jackmckew.github.io/" href="https://jackmckew.github.io/">Portfolio</a></li>
                    <li><a target="https://jackmckew.dev/files/Jack_McKew_CV.pdf" href="https://jackmckew.dev/files/Jack_McKew_CV.pdf">CV/Resume</a></li>
                </ul>
            </nav>

            <ul class="social">
                <li>
                    <a  class="sc-twitter" href="https://twitter.com/Jac_McQ" target="_blank">
                        <i class="fab fa-twitter">
            </i>
                    </a>
                </li>
                <li>
                    <a  class="sc-linkedin" href="https://www.linkedin.com/in/jack-mckew/" target="_blank">
                        <i class="fab fa-linkedin">
            </i>
                    </a>
                </li>
                <li>
                    <a  class="sc-github" href="https://github.com/JackMcKew" target="_blank">
                        <i class="fab fa-github">
            </i>
                    </a>
                </li>
            </ul>
        </div>


    </aside>
    <main>
        <nav>
            <a href="https://jackmckew.dev"> Home</a>             <a href="/archives.html">Archives</a>             <a href="/categories.html">Categories</a>             <a href="/tags.html">Tags</a>             <a href="/sitemap.xml">Sitemap</a>             <a href="https://jackmckew.dev/feeds/all.atom.xml"> Atom</a>         </nav>
<article class="single">
  <header>
      
    <h1 id="make-a-readme-documentation-with-jupyter-notebooks">Make a README & Documentation with Jupyter Notebooks</h1>
    <p>
       Posted on Fri 05 June 2020 in <a href="https://jackmckew.dev/category/python.html">Python</a>

        &#8226; 5 min read
    </p>
  </header>


  <div>
    <body><p>README is typically the front page of a project, and should contain relevant information for current users &amp; prospective users. As to make sure documentation across a project is consistent as well, imagine if we could include this README that is the front page of our project, both on the repository, and in the documentation. This post goes into how to set this workflow up. Find a live example of this being implemented on: <a href="https://github.com/JackMcKew/pandas_alive">https://github.com/JackMcKew/pandas_alive</a>.</p>
<p>A good starting structure for a project's README is:</p>
<ol>
<li>
<p>Intro - A short description &amp; output (if applicable) of the project.</p>
</li>
<li>
<p>Usage - A section on how the project is to be used (if applicable).</p>
</li>
<li>
<p>Documentation - Link to documentation for the project.</p>
</li>
<li>
<p>Contributing Guidelines - If this is an open source project, a note whether contributions are welcome &amp; instructions how to get involved is well received.</p>
</li>
<li>
<p>Changelog - Keeping a changelog of what is changing as the project evolves.</p>
</li>
</ol>
<p>Other useful sections when applicable are requirements, future plans and inspiration.</p>
<h2 id="inspiration-for-this-post">Inspiration for This Post</h2>
<p>The inspiration for this post also comes from <a href="https://github.com/JackMcKew/pandas_alive">Pandas_Alive</a>, wherein there is working examples with output hosted on the README. Initially, this was contained in a <code>generate_examples.py</code> file and as the package evolved, the code to match the examples, was being copied over into code blocks in the <code>README.md</code>. If you can see where this is going, obviously whenever some new examples were made, the code to generate the examples was being forgotten to be copied over. This is very frustrating for new users to the package, as the examples simply don't work. Thus the workflow we go into in this post was adopted.</p>
<h2 id="readmeipynb">README.ipynb</h2>
<p>In projects, typically it's best practice to not have to repeat yourself in multiple places (this the DRY principle). In the README, it's nice to have working examples on how a user may use the project. If we could tie the original README with live code that generates the examples, that would be ideal, enter <code>README.ipynb</code>.</p>
<p>Jupyter supports markdown &amp; code cells, thus all the current documentation in the <code>README.md</code> can be copied within markdown cells. Similarly, the code used to generate examples or demonstrate usage can then be placed in code cells. Allowing the author, to run the entire notebook, generating the new examples &amp; verifying the examples are working code. Fantastic, this is exactly where we want to go.</p>
<p>Now if you only have the <code>README.ipynb</code> in the repository, GitHub will represent the file in it's raw form, JSON. For example would be hundreds of line like:</p>
<table class="table-striped highlighttable table"><tbody><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="p">{</span>
 <span class="nt">"cells"</span><span class="p">:</span> <span class="p">[</span>
  <span class="p">{</span>
   <span class="nt">"cell_type"</span><span class="p">:</span> <span class="s2">"markdown"</span><span class="p">,</span>
   <span class="nt">"metadata"</span><span class="p">:</span> <span class="p">{},</span>
   <span class="nt">"source"</span><span class="p">:</span> <span class="p">[</span>
    <span class="s2">"# Pandas_Alive\n"</span><span class="p">,</span>
    <span class="s2">"\n"</span><span class="p">,</span>
    <span class="s2">"Animated plotting extension for Pandas with Matplotlib\n"</span><span class="p">,</span>
    <span class="s2">"\n"</span><span class="p">,</span>
    <span class="s2">"**Pandas_Alive** is intended to provide a plotting backend for animated [matplotlib](https://matplotlib.org/) charts for [Pandas](https://pandas.pydata.org/) DataFrames, similar to the already [existing Visualization feature of Pandas](https://pandas.pydata.org/pandas-docs/stable/visualization.html).\n"</span><span class="p">,</span>
    <span class="s2">"\n"</span><span class="p">,</span>
    <span class="s2">"With **Pandas_Alive**, creating stunning, animated visualisations is as easy as calling:\n"</span><span class="p">,</span>
    <span class="s2">"\n"</span><span class="p">,</span>
    <span class="s2">"`df.plot_animated()`\n"</span><span class="p">,</span>
    <span class="s2">"\n"</span><span class="p">,</span>
    <span class="s2">"![Example Bar Chart](examples/example-barh-chart.gif)"</span>
   <span class="p">]</span>
</code></pre></div>
</td></tr></tbody></table>
<p>This is not ideal whatsoever, this is nowhere near as attractive as the nicely rendered <code>README.md</code>. Enter <code>nbconvert</code>.</p>
<h3 id="readmeipynb-readmemd-with-nbconvert">README.ipynb -&gt; README.md with nbconvert</h3>
<p><code>nbconvert</code> is a package built to convert Jupyter notebooks to other formats and can be installed similar to jupyter (eg, <code>pip install jupyter</code>, <code>pip install nbconvert</code>). See the documentation at: <a href="https://nbconvert.readthedocs.io/en/latest/">https://nbconvert.readthedocs.io/en/latest/</a>.</p>
<p>Now let's check the <a href="https://nbconvert.readthedocs.io/en/latest/usage.html#supported-output-formats">supported output types for nbconvert</a>:</p>
<ul>
<li>HTML,</li>
<li>LaTeX,</li>
<li>PDF,</li>
<li>Reveal.js HTML slideshow,</li>
<li>Markdown,</li>
<li>Ascii,</li>
<li>reStructuredText,</li>
<li>executable script,</li>
<li>notebook.</li>
</ul>
<p><code>nbconvert</code> supports Markdown! Fantastic, we can add this step into our CI process (eg, <a href="https://github.com/JackMcKew/pandas_alive/blob/master/.github/workflows/update-readme.yml">GitHub Action</a>). This will allow us to generate a new <code>README.md</code> whenever our <code>README.ipynb</code> changes.</p>
<blockquote>
<p>In Pandas_Alive, we clear the output output of the cells in <code>README.ipynb</code> with the flags: <code>jupyter nbconvert --ClearMetadataPreprocessor.enabled=True --ClearOutput.enabled=True  --to markdown README.ipynb</code>.</p>
</blockquote>
<h4 id="python-highlighting-in-output">Python Highlighting in Output</h4>
<p>When first run, it was noticed that <code>nbconvert</code> wasn't marking the code blocks with the language (python). This is required to highlight the code blocks in the <code>README.md</code> with language specifics. The workaround for this, was to use <code>nbconvert</code>'s support for custom templates. See the docs at: <a href="https://nbconvert.readthedocs.io/en/latest/customizing.html#Custom-Templates">https://nbconvert.readthedocs.io/en/latest/customizing.html#Custom-Templates</a>.</p>
<p>The resulting template "pythoncodeblocks.tpl" was:</p>
<table class="table-striped highlighttable table"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>    {% extends 'markdown.tpl' %}
    {% block codecell %}
    ``` python
    {{cell.source}}
    ```
    {% endblock codecell %}
</code></pre></div>
</td></tr></tbody></table>
<p>Which could be used with <code>nbconvert</code> with:</p>
<table class="table-striped highlighttable table"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>jupyter nbconvert --template <span class="s2">"pythoncodeblocks.tpl"</span> --to markdown README.ipynb
</code></pre></div>
</td></tr></tbody></table>
<h2 id="integration-into-documentation-with-sphinx">Integration into Documentation with Sphinx</h2>
<p>If you haven't already, check out my previous post <a href="https://jackmckew.dev/automatically-generate-documentation-with-sphinx.html">Automatically Generate Documentation with Sphinx</a>. The post goes into detail on how to implement Sphinx as to generate all of the documentation for a project from docstrings automatically.</p>
<p>Before going on, the live site of the documentation in reference can be reached at: <a href="https://jackmckew.github.io/pandas_alive/">https://jackmckew.github.io/pandas_alive/</a></p>
<p>Now, we've:</p>
<ol>
<li>Stored our working code &amp; documentation for a our project's front page in a Jupyter notebook <code>README.ipynb</code></li>
<li>Converted <code>README.ipynb</code> into markdown format with <code>nbconvert</code></li>
<li>Inserted language specific (python) into the code blocks within the markdown</li>
</ol>
<p>The next step is to make the README content also live in the documentation.</p>
<p>Since Sphinx relies on reStructuredText format, so we'll need to convert <code>README.md</code> to <code>README.rst</code>. Enter <a href="https://github.com/miyakogi/m2r"><code>m2r</code></a>, a markdown to reStructuredText converter.</p>
<blockquote>
<p><code>nbconvert</code> could be used in this step over <code>m2r</code>, in saying that this step was originally developed prior to the <code>README.ipynb</code> being created, thus only <code>README.md</code> existed. Please drop a comment if you try using <code>nbconvert</code> over <code>m2r</code> for this step and your results!</p>
</blockquote>
<p>Firstly, <code>m2r</code> can be installed with pip (<code>pip install m2r</code>) and we can convert <code>README.md</code> with the command <code>m2r README.md</code> which will generate <code>README.rst</code> in the same directory.</p>
<p>Now we need to include our <code>README.rst</code> in the documentation. After much tweaking, the documentation structure set up landed upon for Pandas_Alive, with use of autosummary to automatically generate documentation from docstrings was:</p>
<blockquote>
<p>Autosummary generated documentation is included within a separate rst file (developer.rst) to nest all the generated with autosummary within one heading with the ReadTheDocs theme</p>
</blockquote>
<p><a href="https://github.com/JackMcKew/pandas_alive/blob/master/docs/source/index.rst">index.rst</a></p>
<table class="table-striped highlighttable table"><tbody><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="p">..</span> <span class="ow">module</span><span class="p">::</span> pandas_alive

<span class="gh">Pandas_Alive |version|</span>
<span class="gh">========================================</span>

Animated plotting extension for Pandas with Matplotlib

<span class="na">:mod:</span><span class="nv">`Pandas_alive`</span> is intended to provide a plotting backend for animated matplotlib charts for Pandas DataFrames, similar to the already existing Visualization feature of Pandas.

With <span class="na">:mod:</span><span class="nv">`Pandas_alive`</span>, creating stunning, animated visualisations is as easy as calling:

<span class="s">``df.plot_animated()``</span>

<span class="p">..</span> <span class="ow">image</span><span class="p">::</span> ../../examples/example-barh-chart.gif
   <span class="nc">:target:</span> examples/example-barh-chart.gif
   <span class="nc">:alt:</span> Example Bar Chart

<span class="p">..</span> <span class="ow">toctree</span><span class="p">::</span>
   <span class="nc">:caption:</span> Getting Started

   Installation &amp; Examples &lt;README&gt;


<span class="p">..</span> <span class="ow">toctree</span><span class="p">::</span>
   <span class="nc">:caption:</span> Developers

   developer

<span class="p">..</span> <span class="ow">rubric</span><span class="p">::</span> Modules


<span class="gh">Indices and tables</span>
<span class="gh">==================</span>

<span class="m">*</span> <span class="na">:ref:</span><span class="nv">`genindex`</span>
<span class="m">*</span> <span class="na">:ref:</span><span class="nv">`modindex`</span>
<span class="m">*</span> <span class="na">:ref:</span><span class="nv">`search`</span>
</code></pre></div>
</td></tr></tbody></table>
<p><a href="https://github.com/JackMcKew/pandas_alive/blob/master/docs/source/developer.rst">developer.rst</a></p>
<table class="table-striped highlighttable table"><tbody><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="gh">API Reference</span>
<span class="gh">=============</span>

<span class="p">..</span> <span class="ow">autosummary</span><span class="p">::</span>
   <span class="nc">:toctree:</span> generated

   pandas_alive.plotting.plot
   pandas_alive.plotting
   pandas_alive.base
   pandas_alive._base_chart
   pandas_alive.charts
   pandas_alive.__init__
</code></pre></div>
</td></tr></tbody></table>
<p><a href="https://github.com/JackMcKew/pandas_alive/blob/master/docs/source/conf.py">conf.py</a></p>
<h2 id="integration-with-github-actions">Integration with GitHub Actions</h2>
<p>All the steps above mentioned are currently being used to maintain the project Pandas_Alive.</p>
<p>Find the GitHub Action yml files at: <a href="https://github.com/JackMcKew/pandas_alive/tree/master/.github/workflows">https://github.com/JackMcKew/pandas_alive/tree/master/.github/workflows</a></p>
<p>Find the Sphinx configuration files at: <a href="https://github.com/JackMcKew/pandas_alive/tree/master/docs">https://github.com/JackMcKew/pandas_alive/tree/master/docs</a></p></body>
  </div>
  <div class="tag-cloud">
    <p>
      <a href="https://jackmckew.dev/tag/python.html">python</a>
    </p>
  </div>


  <div class="neighbors">
    <a class="btn float-left" href="https://jackmckew.dev/translating-text-in-python.html" title="Translating Text in Python">
      <i class="fa fa-angle-left"></i>  Previous Post
    </a>
    <a class="btn float-right" href="https://jackmckew.dev/geopandas-and-pandas-alive.html" title="Geopandas and Pandas Alive">
       Next Post <i class="fa fa-angle-right"></i>
    </a>
  </div>

  <div class="related-posts">
    <h4> You might enjoy</h4>
    <ul class="related-posts">
      <li><a href="https://jackmckew.dev/differential-privacy.html">Differential Privacy</a></li>
      <li><a href="https://jackmckew.dev/shallow-vs-deep-copy-in-python.html">Shallow vs Deep Copy in Python</a></li>
      <li><a href="https://jackmckew.dev/types-of-averages-means.html">Types of Averages (Means)</a></li>
      <li><a href="https://jackmckew.dev/dataclasses-vs-attrs-vs-pydantic.html">Dataclasses vs Attrs vs Pydantic</a></li>
      <li><a href="https://jackmckew.dev/generators-in-python.html">Generators in Python</a></li>
    </ul>
  </div>


<!-- Disqus -->
<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'jackmckew-dev';
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>
     Please enable JavaScript to view comments.
</noscript>
<!-- End Disqus -->
</article>

        <footer>
<p>&copy;  </p>
<p> Built with <a href="http://getpelican.com" target="_blank">Pelican</a> using <a href="http://bit.ly/flex-pelican" target="_blank">Flex</a> theme</p>        </footer>
    </main>

<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Jack McKew's Blog ",
  "url" : "https://jackmckew.dev",
  "image": "/jm-photo.jpg",
  "description": ""
}
</script>    <script>
        $(document).ready(function() {
            $('#tipue_search_input').tipuesearch();
        });
    </script>
</body>

</html>