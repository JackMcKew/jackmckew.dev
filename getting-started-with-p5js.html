
<!DOCTYPE html>
<html lang="english">

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />     <meta name="robots" content="" />     <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro|Source+Sans+Pro:300,400,400i,700" rel="stylesheet">     <link rel="stylesheet" type="text/css" href="https://jackmckew.dev/theme/stylesheet/style.min.css"> 
    <link rel="stylesheet" type="text/css" href="https://jackmckew.dev/theme/pygments/github.min.css">
    <link rel="stylesheet" type="text/css" href="https://jackmckew.dev/theme/font-awesome/css/fontawesome.css">
    <link rel="stylesheet" type="text/css" href="https://jackmckew.dev/theme/font-awesome/css/brands.css">
    <link rel="stylesheet" type="text/css" href="https://jackmckew.dev/theme/font-awesome/css/solid.css">
    <link rel="stylesheet" type="text/css" href="https://jackmckew.dev/theme/font-awesome.css">     <script src="https://jackmckew.dev/theme/tipuesearch/jquery.min.js"></script>
    <script src="https://jackmckew.dev/theme/tipuesearch/tipuesearch.min.js"></script>
    <script src="https://jackmckew.dev/theme/tipuesearch/tipuesearch.js"></script>
    <script src="https://jackmckew.dev/theme/tipuesearch/tipuesearch_set.js"></script>
    <link rel="stylesheet" href="https://jackmckew.dev/theme/tipuesearch/tipuesearch.css" />
    <script src="https://jackmckew.dev/tipuesearch_content.js"></script>
    <link href="https://jackmckew.dev/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Jack McKew's Blog Atom">     <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon"> <!-- Google Analytics -->
<script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-131173168-2', 'auto');
  ga('send', 'pageview');
</script>
<!-- End Google Analytics --><meta name="author" content="Jack McKew" />
<meta name="description" content="In this post we&#39;re going to make use of the library P5.js which enables us to create interactive visualisation in the browser. We&#39;re going to create an interactive pond where users will be able to click on the screen to create a new drop in the pond and watch â€¦" />
<meta name="keywords" content="javascript, data-viz">


<meta property="og:site_name" content="Jack McKew's Blog"/>
<meta property="og:title" content="Getting Started with P5.js"/>
<meta property="og:description" content="In this post we&#39;re going to make use of the library P5.js which enables us to create interactive visualisation in the browser. We&#39;re going to create an interactive pond where users will be able to click on the screen to create a new drop in the pond and watch â€¦"/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content="https://jackmckew.dev/getting-started-with-p5js.html"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2020-12-25 00:00:00+11:00"/>
<meta property="article:modified_time" content=""/>
<meta property="article:author" content="https://jackmckew.dev/author/jack-mckew.html">
<meta property="article:section" content="Javascript"/>
<meta property="article:tag" content="javascript"/>
<meta property="article:tag" content="data-viz"/>
<meta property="og:image" content="/jm-photo.jpg">

    <title>Jack McKew's Blog &ndash; Getting Started with P5.js</title>

    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1052275056735196"
     crossorigin="anonymous"></script>
</head>

<body>
    <aside>
        <div>
            <a href="https://jackmckew.dev">
        <img src="/jm-photo.jpg" alt="Jack McKew's Blog" title="Jack McKew's Blog">
      </a>
            <h1><a href="https://jackmckew.dev">Jack McKew's Blog</a></h1>

            <p>Engineer | Software Developer | Data Scientist</p>            <p>Number of Posts: 103</p>
            <p>Number of Words: 77,162</p>
            <p>Number of Lines of Code 4,932</p>
            <form class="navbar-search" action="/search.html" role="search">
                <input type="text" name="q" id="tipue_search_input" placeholder="Search..">
            </form>
            <style>
                .bmc-button img {
                    height: 34px !important;
                    width: 35px !important;
                    margin-bottom: 1px !important;
                    box-shadow: none !important;
                    border: none !important;
                    vertical-align: middle !important;
                }
                
                .bmc-button {
                    margin-top: 15px !important;
                    margin-bottom: 20px !important;
                    padding: 7px 15px 7px 10px !important;
                    line-height: 35px !important;
                    height: 51px !important;
                    text-decoration: none !important;
                    display: inline-flex !important;
                    color: #ffffff !important;
                    /* background-color: #FF813F !important; */
                    border-radius: 5px !important;
                    border: 1px solid transparent !important;
                    padding: 7px 15px 7px 10px !important;
                    font-size: 22px !important;
                    letter-spacing: 0.6px !important;
                    box-shadow: 0px 1px 2px rgba(190, 190, 190, 0.5) !important;
                    -webkit-box-shadow: 0px 1px 2px 2px rgba(190, 190, 190, 0.5) !important;
                    font-family: 'Cookie', cursive !important;
                    -webkit-box-sizing: border-box !important;
                    box-sizing: border-box !important;
                }
                
                .bmc-button:hover,
                .bmc-button:active,
                .bmc-button:focus {
                    -webkit-box-shadow: 0px 1px 2px 2px rgba(190, 190, 190, 0.5) !important;
                    text-decoration: none !important;
                    box-shadow: 0px 1px 2px 2px rgba(190, 190, 190, 0.5) !important;
                    opacity: 0.85 !important;
                    color: #ffffff !important;
                }
            </style>
            <link href="https://fonts.googleapis.com/css?family=Cookie" rel="stylesheet">
            <a class="bmc-button btn" target="_blank" href="https://www.buymeacoffee.com/jackmckew"><img src="https://jackmckew.dev/theme/img/pizza.png" alt="ðŸ•"><span style="margin-left:5px;font-size:28px !important;">Buy me a Pizza</span></a>
            <nav>
                <ul class="list">
                    <li><a target="_blank" href="https://jackmckew.dev/pages/contact.html#contact">Contact</a></li>
                    <li><a target="_blank" href="https://jackmckew.dev/pages/cv-professional.html#cv-professional">CV/Professional</a></li>
                </ul>
            </nav>

            <ul class="social">
                <li>
                    <a  class="sc-twitter" href="https://twitter.com/Jac_McQ" target="_blank">
                        <i class="fab fa-twitter">
            </i>
                    </a>
                </li>
                <li>
                    <a  class="sc-linkedin" href="https://www.linkedin.com/in/jack-mckew/" target="_blank">
                        <i class="fab fa-linkedin">
            </i>
                    </a>
                </li>
                <li>
                    <a  class="sc-github" href="https://github.com/JackMcKew" target="_blank">
                        <i class="fab fa-github">
            </i>
                    </a>
                </li>
            </ul>
        </div>


    </aside>
    <main>
        <nav>
            <a href="https://jackmckew.dev"> Home</a>             <a href="/archives.html">Archives</a>             <a href="/categories.html">Categories</a>             <a href="/tags.html">Tags</a>             <a href="/sitemap.xml">Sitemap</a>             <a href="https://jackmckew.dev/feeds/all.atom.xml"> Atom</a>         </nav>
<article class="single">
  <header>
      
    <h1 id="getting-started-with-p5js">Getting Started with P5.js</h1>
    <p>
       Posted on Fri 25 December 2020 in <a href="https://jackmckew.dev/category/javascript.html">Javascript</a>

        &#8226; 2 min read
    </p>
  </header>


  <div>
    <body><p>In this post we're going to make use of the library P5.js which enables us to create interactive visualisation in the browser. We're going to create an interactive pond where users will be able to click on the screen to create a new drop in the pond and watch it expand. As such not to have an empty screen, we'll also create a bunch of random drops that will consistently 'rain' down on our pond. There's even an interactive web editor for p5.js which is extremely useful for iterating through as we're creating something, this can be reached at: https://editor.p5js.org/.</p>
<p>There's a lot of special variable names that p5 defines for us such as <code>mouseIsPressed</code> for the state of if a user has clicked on the visualisation, or the functions <code>setup</code> and <code>draw</code> which do exactly as expected. We start by initializing a few global variables which will define how our visualisation will behave such as the number of drops, how big a drop should go before disappearing, how fast they'll expand and how big they'll start off as. After this we create an array of objects which each object represents a single raindrop to be displayed.</p>
<p>Next in the <code>draw</code> function, which is repeatedly called while the browser has the page open, we loop through all the objects in the array and draw a circle (ellipse with equal radii) and colour it according to how big it's radius is (this is as to watch it fade as it grows). We make use of the <code>stroke</code> function to define the colour of the lines for what we'll be drawing in that instance. If a drop has become too big we remove it from the array and add a new random drop, if it's still undersize we increase it's radius and colour.</p>
<p>Finally to add interactivity, we make use of the <code>mouseIsPressed</code> variable to determine if the user has clicked on the visualization and add a drop into the array at the X &amp; Y position of where the user clicked.</p>
<p align="center"><iframe frameborder="0" height="400" src="https://editor.p5js.org/JackMcKew/embed/u2ga-k6rk" width="100%"></iframe></p>
<table class="highlighttable table table-striped"><tbody><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="kd">let</span> <span class="nx">drops</span> <span class="o">=</span> <span class="p">[]</span>
<span class="kd">let</span> <span class="nx">totalDropSize</span> <span class="o">=</span> <span class="mf">100</span>
<span class="kd">let</span> <span class="nx">initialRadius</span> <span class="o">=</span> <span class="mf">1</span>
<span class="kd">let</span> <span class="nx">radiusIncrementMax</span> <span class="o">=</span> <span class="mf">1</span>
<span class="kd">let</span> <span class="nx">numberOfDrops</span> <span class="o">=</span> <span class="mf">50</span>

<span class="kd">function</span> <span class="nx">addRandomDrop</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">drops</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span>
      <span class="p">{</span>
        <span class="nx">x</span><span class="o">:</span> <span class="nx">random</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span> <span class="nx">width</span><span class="p">),</span>
        <span class="nx">y</span><span class="o">:</span> <span class="nx">random</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span> <span class="nx">height</span><span class="p">),</span>
        <span class="nx">radius</span><span class="o">:</span> <span class="nx">initialRadius</span><span class="p">,</span>
        <span class="nx">colour</span><span class="o">:</span> <span class="mf">0</span>
      <span class="p">}</span>
    <span class="p">)</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">createCanvas</span><span class="p">(</span><span class="mf">400</span><span class="p">,</span> <span class="mf">400</span><span class="p">);</span>

  <span class="k">for</span><span class="p">(</span><span class="nx">x</span><span class="o">=</span><span class="mf">0</span><span class="p">;</span> <span class="nx">x</span> <span class="o">&lt;</span> <span class="nx">random</span><span class="p">(</span><span class="mf">1</span><span class="p">,</span> <span class="nx">numberOfDrops</span><span class="p">);</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">x</span> <span class="o">+</span> <span class="mf">1</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">addRandomDrop</span><span class="p">()</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">255</span><span class="p">);</span>

  <span class="k">if</span><span class="p">(</span><span class="nx">drops</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mf">0</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mf">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">drops</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">stroke</span><span class="p">(</span><span class="nx">drops</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">colour</span><span class="p">)</span>
      <span class="nx">ellipse</span><span class="p">(</span><span class="nx">drops</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">x</span><span class="p">,</span> <span class="nx">drops</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">y</span><span class="p">,</span><span class="nx">drops</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">radius</span><span class="p">)</span>
      <span class="k">if</span><span class="p">(</span><span class="nx">drops</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">radius</span> <span class="o">&lt;</span> <span class="nx">totalDropSize</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">drops</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">radius</span> <span class="o">+=</span> <span class="nx">random</span><span class="p">(</span><span class="mf">1</span><span class="p">,</span> <span class="nx">radiusIncrementMax</span><span class="p">)</span>
        <span class="nx">drops</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">colour</span> <span class="o">+=</span> <span class="mf">10</span>
      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="nx">drops</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span> <span class="mf">1</span><span class="p">);</span>

        <span class="nx">addRandomDrop</span><span class="p">();</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="k">if</span><span class="p">(</span><span class="nx">mouseIsPressed</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">drops</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span>
      <span class="p">{</span>
        <span class="nx">x</span><span class="o">:</span> <span class="nx">mouseX</span><span class="p">,</span>
        <span class="nx">y</span><span class="o">:</span> <span class="nx">mouseY</span><span class="p">,</span>
        <span class="nx">radius</span><span class="o">:</span> <span class="nx">initialRadius</span><span class="p">,</span>
        <span class="nx">colour</span><span class="o">:</span> <span class="mf">0</span>
      <span class="p">}</span>
    <span class="p">)</span>
  <span class="p">}</span>


<span class="p">}</span>
</code></pre></div>
</td></tr></tbody></table></body>
  </div>
  <div class="tag-cloud">
    <p>
      <a href="https://jackmckew.dev/tag/javascript.html">javascript</a>
      <a href="https://jackmckew.dev/tag/data-viz.html">data-viz</a>
    </p>
  </div>


  <div class="neighbors">
    <a class="btn float-left" href="https://jackmckew.dev/differential-privacy.html" title="Differential Privacy">
      <i class="fa fa-angle-left"></i>  Previous Post
    </a>
    <a class="btn float-right" href="https://jackmckew.dev/define-functions-iteratively-with-python.html" title="Define Functions Iteratively With Python">
       Next Post <i class="fa fa-angle-right"></i>
    </a>
  </div>

  <div class="related-posts">
    <h4> You might enjoy</h4>
    <ul class="related-posts">
      <li><a href="https://jackmckew.dev/releasing-cordova-apps-on-google-play-app-store.html">Releasing Cordova Apps on Google Play & App Store</a></li>
      <li><a href="https://jackmckew.dev/creating-animated-plots-with-pandas_alive.html">Creating Animated Plots with Pandas_Alive</a></li>
      <li><a href="https://jackmckew.dev/covid-19-confirmed-cases-nsw-australia-animated-statistics-over-time.html">COVID-19 Confirmed Cases NSW Australia - Animated Statistics over Time</a></li>
    </ul>
  </div>


<!-- Disqus -->
<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'jackmckew-dev';
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>
     Please enable JavaScript to view comments.
</noscript>
<!-- End Disqus -->
</article>

        <footer>
<p>&copy;  </p>
<p> Built with <a href="http://getpelican.com" target="_blank">Pelican</a> using <a href="http://bit.ly/flex-pelican" target="_blank">Flex</a> theme</p>        </footer>
    </main>

<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Jack McKew's Blog ",
  "url" : "https://jackmckew.dev",
  "image": "/jm-photo.jpg",
  "description": ""
}
</script>    <script>
        $(document).ready(function() {
            $('#tipue_search_input').tipuesearch();
        });
    </script>
</body>

</html>