
<!DOCTYPE html>
<html lang="english">

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />     <meta name="robots" content="" />     <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro|Source+Sans+Pro:300,400,400i,700" rel="stylesheet">     <link rel="stylesheet" type="text/css" href="https://jackmckew.dev/theme/stylesheet/style.min.css"> 
    <link rel="stylesheet" type="text/css" href="https://jackmckew.dev/theme/pygments/github.min.css">
    <link rel="stylesheet" type="text/css" href="https://jackmckew.dev/theme/font-awesome/css/fontawesome.css">
    <link rel="stylesheet" type="text/css" href="https://jackmckew.dev/theme/font-awesome/css/brands.css">
    <link rel="stylesheet" type="text/css" href="https://jackmckew.dev/theme/font-awesome/css/solid.css">
    <link rel="stylesheet" type="text/css" href="https://jackmckew.dev/theme/font-awesome.css">     <script src="https://jackmckew.dev/theme/tipuesearch/jquery.min.js"></script>
    <script src="https://jackmckew.dev/theme/tipuesearch/tipuesearch.min.js"></script>
    <script src="https://jackmckew.dev/theme/tipuesearch/tipuesearch.js"></script>
    <script src="https://jackmckew.dev/theme/tipuesearch/tipuesearch_set.js"></script>
    <link rel="stylesheet" href="https://jackmckew.dev/theme/tipuesearch/tipuesearch.css" />
    <script src="https://jackmckew.dev/tipuesearch_content.js"></script>
    <link href="https://jackmckew.dev/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Jack McKew's Blog Atom">     <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon"> <!-- Google Analytics -->
<script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-131173168-2', 'auto');
  ga('send', 'pageview');
</script>
<!-- End Google Analytics --><meta name="author" content="Jack McKew" />
<meta name="description" content="Python decorators are one of the most difficult concepts in Python to grasp, and subsequently a lot of beginners struggle. However they help to shorten code and make it more &#39;Pythonic&#39;. This post is going to go through some basic examples where decorators can shorten your code. Firstly you have …" />
<meta name="keywords" content="python">


<meta property="og:site_name" content="Jack McKew's Blog"/>
<meta property="og:title" content="Python Decorators Explained"/>
<meta property="og:description" content="Python decorators are one of the most difficult concepts in Python to grasp, and subsequently a lot of beginners struggle. However they help to shorten code and make it more &#39;Pythonic&#39;. This post is going to go through some basic examples where decorators can shorten your code. Firstly you have …"/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content="https://jackmckew.dev/python-decorators-explained.html"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2019-05-24 06:30:00+10:00"/>
<meta property="article:modified_time" content=""/>
<meta property="article:author" content="https://jackmckew.dev/author/jack-mckew.html">
<meta property="article:section" content="Python"/>
<meta property="article:tag" content="python"/>
<meta property="og:image" content="/jm-photo.jpg">

    <title>Jack McKew's Blog &ndash; Python Decorators Explained</title>

    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client="
     crossorigin="anonymous"></script>
</head>

<body>
    <aside>
        <div>
            <a href="https://jackmckew.dev">
        <img src="/jm-photo.jpg" alt="Jack McKew's Blog" title="Jack McKew's Blog">
      </a>
            <h1><a href="https://jackmckew.dev">Jack McKew's Blog</a></h1>

            <p>Engineer | Software Developer | Data Scientist</p>            <p>Number of Posts: 111</p>
            <p>Number of Words: 82,564</p>
            <p>Number of Lines of Code 5,768</p>
            <form class="navbar-search" action="/search.html" role="search">
                <input type="text" name="q" id="tipue_search_input" placeholder="Search..">
            </form>
            <style>
                .bmc-button img {
                    height: 34px !important;
                    width: 35px !important;
                    margin-bottom: 1px !important;
                    box-shadow: none !important;
                    border: none !important;
                    vertical-align: middle !important;
                }
                
                .bmc-button {
                    margin-top: 15px !important;
                    margin-bottom: 20px !important;
                    padding: 7px 15px 7px 10px !important;
                    line-height: 35px !important;
                    height: 51px !important;
                    text-decoration: none !important;
                    display: inline-flex !important;
                    color: #ffffff !important;
                    /* background-color: #FF813F !important; */
                    border-radius: 5px !important;
                    border: 1px solid transparent !important;
                    padding: 7px 15px 7px 10px !important;
                    font-size: 22px !important;
                    letter-spacing: 0.6px !important;
                    box-shadow: 0px 1px 2px rgba(190, 190, 190, 0.5) !important;
                    -webkit-box-shadow: 0px 1px 2px 2px rgba(190, 190, 190, 0.5) !important;
                    font-family: 'Cookie', cursive !important;
                    -webkit-box-sizing: border-box !important;
                    box-sizing: border-box !important;
                }
                
                .bmc-button:hover,
                .bmc-button:active,
                .bmc-button:focus {
                    -webkit-box-shadow: 0px 1px 2px 2px rgba(190, 190, 190, 0.5) !important;
                    text-decoration: none !important;
                    box-shadow: 0px 1px 2px 2px rgba(190, 190, 190, 0.5) !important;
                    opacity: 0.85 !important;
                    color: #ffffff !important;
                }
            </style>
            <link href="https://fonts.googleapis.com/css?family=Cookie" rel="stylesheet">
            <!-- <a class="bmc-button btn" target="_blank" href="https://www.buymeacoffee.com/jackmckew"><img src="https://jackmckew.dev/theme/img/pizza.png" alt="🍕"><span style="margin-left:5px;font-size:28px !important;">Buy me a Pizza</span></a> -->
            <nav>
                <ul class="list">
                    <li><a target="https://jackmckew.github.io/" href="https://jackmckew.github.io/">Portfolio</a></li>
                    <li><a target="https://jackmckew.dev/files/Jack_McKew_Resume.pdf" href="https://jackmckew.dev/files/Jack_McKew_Resume.pdf">Resume</a></li>
                </ul>
            </nav>

            <ul class="social">
                <li>
                    <a  class="sc-twitter" href="https://twitter.com/Jac_McQ" target="_blank">
                        <i class="fab fa-twitter">
            </i>
                    </a>
                </li>
                <li>
                    <a  class="sc-linkedin" href="https://www.linkedin.com/in/jack-mckew/" target="_blank">
                        <i class="fab fa-linkedin">
            </i>
                    </a>
                </li>
                <li>
                    <a  class="sc-github" href="https://github.com/JackMcKew" target="_blank">
                        <i class="fab fa-github">
            </i>
                    </a>
                </li>
            </ul>
        </div>


    </aside>
    <main>
        <nav>
            <a href="https://jackmckew.dev"> Home</a>             <a href="/archives.html">Archives</a>             <a href="/categories.html">Categories</a>             <a href="/tags.html">Tags</a>             <a href="/sitemap.xml">Sitemap</a>             <a href="https://jackmckew.dev/feeds/all.atom.xml"> Atom</a>         </nav>
<article class="single">
  <header>
      
    <h1 id="python-decorators-explained">Python Decorators Explained</h1>
    <p>
       Posted on Fri 24 May 2019 in <a href="https://jackmckew.dev/category/python.html">Python</a>

        &#8226; 3 min read
    </p>
  </header>


  <div>
    <body><p>Python decorators are one of the most difficult concepts in Python to grasp, and subsequently a lot of beginners struggle. However they help to shorten code and make it more 'Pythonic'. This post is going to go through some basic examples where decorators can shorten your code.</p>
<p>Firstly you have to understand functions within python:</p>
<table class="highlighttable table-striped table"><tbody><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">hello</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">'Jack'</span><span class="p">):</span>
    <span class="k">return</span> <span class="s2">"Hello "</span> <span class="o">+</span> <span class="n">name</span>

<span class="nb">print</span><span class="p">(</span><span class="n">hello</span><span class="p">())</span>
<span class="c1"># output: 'Hello Jack'</span>

<span class="n">greeting</span> <span class="o">=</span> <span class="n">hello</span>
<span class="c1"># assign a function to a variable, with no parentheses as we are not calling it</span>

<span class="nb">print</span><span class="p">(</span><span class="n">greeting</span><span class="p">())</span>
<span class="c1"># output: 'Hello Jack'</span>

<span class="k">del</span> <span class="n">hello</span>
<span class="nb">print</span><span class="p">(</span><span class="n">hello</span><span class="p">())</span>
<span class="c1"># output: NameError</span>

<span class="nb">print</span><span class="p">(</span><span class="n">greeting</span><span class="p">())</span>
<span class="c1"># output: 'Hello Jack'</span>
</code></pre></div>
</td></tr></tbody></table>
<p>As we can see above we can give functions default arguments (the string 'Jack' for the name variable in hello). Assign functions to variables (ensuring the parentheses are not included otherwise we would be assigning to the returning value from the function. Remove previous functions now that we have 'copied' the function over.</p>
<p>Now to take the next step into functions within Python, by defining functions within functions:</p>
<table class="highlighttable table-striped table"><tbody><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">hello</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">'Jack'</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"You're now inside the hello() function"</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">greeting</span><span class="p">():</span>
        <span class="k">return</span> <span class="s2">"Now you are in the greeting() function"</span>
    <span class="k">def</span> <span class="nf">welcome</span><span class="p">():</span>
        <span class="k">return</span> <span class="s2">"Now you are in the welcome() function"</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">greet</span><span class="p">())</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">welcome</span><span class="p">())</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"You are now back in the hello() function"</span>
<span class="n">hello</span><span class="p">()</span>
<span class="c1"># outputs: "You're now inside the hello() function"</span>
<span class="c1">#          "Now you are in the greeting() function"</span>
<span class="c1">#          "Now you are in the welcome() function"</span>
<span class="c1">#          "You are now back in the hello() function"</span>

<span class="n">welcome</span><span class="p">()</span>
<span class="c1"># output: NameError: name 'welcome' is not defined</span>
</code></pre></div>
</td></tr></tbody></table>
<p>Now we can make nested functions (functions within functions), the next step is, functions returning functions.</p>
<table class="highlighttable table-striped table"><tbody><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">hello</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">'Jack'</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">greeting</span><span class="p">():</span>
        <span class="k">return</span> <span class="s2">"Now you are in the greeting() function"</span>
    <span class="k">def</span> <span class="nf">welcome</span><span class="p">():</span>
        <span class="k">return</span> <span class="s2">"Now you are in the welcome() function"</span>
    <span class="k">if</span><span class="p">(</span><span class="n">name</span> <span class="o">==</span> <span class="s1">'Jack'</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">greeting</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">welcome</span>

<span class="n">returned_function</span> <span class="o">=</span> <span class="n">hello</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">returned_function</span><span class="p">)</span>
<span class="c1"># output: &lt;function greeting at 0x7f2143c01500&gt;</span>

<span class="c1"># This clearly shows that the returned function is the greeting() function within the hello() function</span>

<span class="nb">print</span><span class="p">(</span><span class="n">returned_function</span><span class="p">()):</span>
<span class="c1"># output: "Now you are in the greeting() function"</span>
</code></pre></div>
</td></tr></tbody></table>
<p>From earlier, we know that if we don't include the parentheses then the function does not executed. Another extension of the way this is formatted is that we can now call hello()() which outputs "Now you are in the greeting() function".</p>
<table class="highlighttable table-striped table"><tbody><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">hello</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">"Jack"</span><span class="p">):</span>
    <span class="k">return</span> <span class="s2">"Hello "</span> <span class="o">+</span> <span class="n">name</span>

<span class="k">def</span> <span class="nf">preFunction</span><span class="p">(</span><span class="n">function</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"This is the prefunction function"</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">hello</span><span class="p">())</span>

<span class="n">preFunction</span><span class="p">(</span><span class="n">hello</span><span class="p">)</span>
<span class="c1"># output: "This is the prefunction function"</span>
<span class="c1">#         "Hello Jack"</span>
</code></pre></div>
</td></tr></tbody></table>
<p>Now you have all the knowledge to learn what decorators really are, they let you execute code before and after a function. The code above is actually a decorator, but let's make it more usable.</p>
<table class="highlighttable table-striped table"><tbody><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">new_decorator</span><span class="p">(</span><span class="n">function</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">functionWrapped</span><span class="p">():</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">"This is the pre function"</span><span class="p">)</span>
        <span class="n">function</span><span class="p">()</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">"This is the post function"</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">functionWrapped</span>

<span class="k">def</span> <span class="nf">function_requiring_decoration</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"I need some decorations!"</span><span class="p">)</span>

<span class="n">function_requiring_decoration</span><span class="p">()</span>
<span class="c1"># output: "I need some decorations"</span>

<span class="n">function_requiring_decoration</span> <span class="o">=</span> <span class="n">new_decorator</span><span class="p">(</span><span class="n">function_requiring_decoration</span><span class="p">)</span>
<span class="c1"># Now our function is wrapped by functionWrapped()</span>

<span class="n">function_requiring_decoration</span><span class="p">()</span>
<span class="c1"># output: "This is the pre function"</span>
<span class="c1">#         "I need some decoration"</span>
<span class="c1">#         "This is the post function"</span>
</code></pre></div>
</td></tr></tbody></table>
<p>Now you've made a decorator! We've just used what we learned previously to modify it's behaviour in one way or another. Now to make it even more concise we can just the @ symbol. Here is how we could have used the previous code with @ symbol.</p>
<table class="highlighttable table-striped table"><tbody><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="nd">@new_decorator</span>
<span class="k">def</span> <span class="nf">function_requiring_decoration</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"I need some decorations!"</span><span class="p">)</span>

<span class="n">function_requiring_decoration</span><span class="p">()</span>
<span class="c1"># output: "This is the pre function"</span>
<span class="c1">#         "I need some decoration"</span>
<span class="c1">#         "This is the post function"</span>

<span class="c1"># The @ operator is a short way of saying:</span>
<span class="n">function_requiring_decoration</span> <span class="o">=</span> <span class="n">new_decorator</span><span class="p">(</span><span class="n">function_requiring_decoration</span><span class="p">)</span>
</code></pre></div>
</td></tr></tbody></table>
<p>Hopefully now you are ready to go and explore the world of decorators within Python, they can be used quite powerfully and allow for you to reuse code and extend capabilities. Some of the best examples for decorators are for authentication or logging, however I will not cover them as they are extensively documented over the internet.</p></body>
  </div>
  <div class="tag-cloud">
    <p>
      <a href="https://jackmckew.dev/tag/python.html">python</a>
    </p>
  </div>


  <div class="neighbors">
    <a class="btn float-left" href="https://jackmckew.dev/explained-voltage-drop.html" title="Explained: Voltage Drop">
      <i class="fa fa-angle-left"></i>  Previous Post
    </a>
    <a class="btn float-right" href="https://jackmckew.dev/distributing-python-code.html" title="Distributing Python Code">
       Next Post <i class="fa fa-angle-right"></i>
    </a>
  </div>

  <div class="related-posts">
    <h4> You might enjoy</h4>
    <ul class="related-posts">
      <li><a href="https://jackmckew.dev/differential-privacy.html">Differential Privacy</a></li>
      <li><a href="https://jackmckew.dev/shallow-vs-deep-copy-in-python.html">Shallow vs Deep Copy in Python</a></li>
      <li><a href="https://jackmckew.dev/types-of-averages-means.html">Types of Averages (Means)</a></li>
      <li><a href="https://jackmckew.dev/dataclasses-vs-attrs-vs-pydantic.html">Dataclasses vs Attrs vs Pydantic</a></li>
      <li><a href="https://jackmckew.dev/generators-in-python.html">Generators in Python</a></li>
    </ul>
  </div>


<!-- Disqus -->
<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'jackmckew-dev';
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>
     Please enable JavaScript to view comments.
</noscript>
<!-- End Disqus -->
</article>

        <footer>
<p>&copy;  </p>
<p> Built with <a href="http://getpelican.com" target="_blank">Pelican</a> using <a href="http://bit.ly/flex-pelican" target="_blank">Flex</a> theme</p>        </footer>
    </main>

<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Jack McKew's Blog ",
  "url" : "https://jackmckew.dev",
  "image": "/jm-photo.jpg",
  "description": ""
}
</script>    <script>
        $(document).ready(function() {
            $('#tipue_search_input').tipuesearch();
        });
    </script>
</body>

</html>